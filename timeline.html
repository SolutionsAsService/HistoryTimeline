<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historical Timeline</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Historical Timeline</h1>
        <p>Explore how long key historical events lasted over time.</p>
    </header>

    <main>
        <section class="timeline-container">
            <div id="timeline" class="timeline">
                <!-- Events will be dynamically added here -->
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Historical Timeline Project</p>
    </footer>

    <script>
        // Fetch data from the JSON file and dynamically populate the timeline
        async function loadTimeline() {
            try {
                const response = await fetch('timeline-data.json');
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const events = await response.json();
                const timeline = document.getElementById('timeline');

                const timelineStart = Math.min(...events.map(e => e.start));
                const timelineEnd = Math.max(...events.map(e => e.end));
                const timelineRange = timelineEnd - timelineStart;

                events.forEach(event => {
                    // Create a bar for each event
                    const eventBar = document.createElement('div');
                    eventBar.className = 'timeline-event';
                    eventBar.style.backgroundColor = event.color;

                    // Calculate position and width
                    const startPercent = ((event.start - timelineStart) / timelineRange) * 100;
                    const widthPercent = ((event.end - event.start) / timelineRange) * 100;
                    eventBar.style.left = `${startPercent}%`;
                    eventBar.style.width = `${widthPercent}%`;

                    // Add label
                    const label = document.createElement('span');
                    label.className = 'event-label';
                    label.innerText = `${event.event} (${event.start} - ${event.end})`;
                    eventBar.appendChild(label);

                    timeline.appendChild(eventBar);
                });
            } catch (error) {
                console.error('Failed to load timeline data:', error);
            }
        }

        // Call the function to load the timeline
        loadTimeline();
    </script>
</body>
</html>
